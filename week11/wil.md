11주차 정리본

RDBMS- 관계형데이터베이스 관리 시스템
row와 colum으로 DB에 있는 데이터에 접근

PK-Primary Key

1. 고유한 값 (중복x)
2. 잘 변경되지 않는 값
3. 모든 로우가 가지는 값 (Not NULL)

장고의 Model 클래스는 PK 필드를 지정하지 않으면, 테이블에 id 필드를 자동으로 추가해준다

Relate (관계) 종류
1. 일대일 관계- 학생 한 명당 1개의 사물함이 배정된다. 1개의 사물함은 학생 1명만 사용 가능하다
FK를 이용해 두 테이블을 하나씩 연결
cf) 모든 학생이 반드시 사물함을 가지지 않는다. 하지만 사물함은 학생을 반드시 한명만 갖는다

2. 일대다 관계- 회원 한 명은 여러개의 주문이 가능하다. 주문이 가질 수 있는 주문자는 1명뿐이다
FK를 이용해 두 테이블을 하나씩 연결. 일대다에서 '다'쪽의 테이블이 FK를 가진다.

3. 다대다 관계- 학생 1명은 여러 개의 강의를 수강할 수 있따. 한 강의는 여러 명의 학생이 신청할 수 있다.
학생-(학생-강의)-강의 // (학생-강의)라는 제 3의 임의의 테이블을 만든다

게시글-댓글은 2. 일대다 관계이다 reason) 한 글에는 여러개의 댓글이 달릴 수 있다. 댓글은 하나의 게시글에만 속한다

<외래 키 생성>

클래스 멤버변수에 models.ForeignKey()를 사용하면 FK를 추가할 수 있다
ForeignKey는 선언시에 to, on_delete 파라미터는 필수로 넣어줘야한다
on은 해당 외래키가 연결될 테이블을 구현한 Model 클래스이다
on_delete는 연결된 항목이 삭제되었을 경우, 해당 테이블의 FK column을 어떻게 할 것인가 설정하는 항목이다

<on_delete>에서 models.CASCADE로 설정 시 외래키로 연결된 항목이 삭제되면 해당 항목도 같이 삭제한다

FK를 이용해 두 테이블을 하나씩 연결할 때 사물함의 학번은 중복되는 값이 들어있을 수 없다
-> foreigkey 파라미터에 unique = True 추가한다


